(window.webpackJsonp=window.webpackJsonp||[]).push([[36,37],{349:function(t,e,r){"use strict";e.a=[{value:"alexandria",label:"الإسكندرية"},{value:"ismailia",label:"الإسماعيلية"},{value:"aswan",label:"أسوان"},{value:"asyut",label:"أسيوط"},{value:"luxor",label:"الأقصر"},{value:"red sea",label:"البحر الأحمر"},{value:"el beheira",label:"البحيرة"},{value:"beni suef",label:"بني سويف"},{value:"port said",label:"بورسعيد"},{value:"south sinai",label:"جنوب سيناء"},{value:"giza",label:"الجيزة"},{value:"dakahlia",label:"الدقهلية"},{value:"damietta",label:"دمياط"},{value:"sohag",label:"سوهاج"},{value:"suez",label:"السويس"},{value:"ash sharqia",label:"الشرقية"},{value:"north sinai",label:"شمال سيناء"},{value:"gharbia",label:"الغربية"},{value:"faiyum",label:"الفيوم"},{value:"cairo",label:"القاهرة"},{value:"al qalyubia",label:"القليوبية"},{value:"qena",label:"قنا"},{value:"kafr el sheikh",label:"كفر الشيخ"},{value:"marsa matruh",label:"مرسى مطروح"},{value:"menofia",label:"المنوفية"},{value:"minya",label:"المنيا"},{value:"new valley",label:"الوادي الجديد"}]},354:function(t,e,r){var n=r(12),meta=r(194).onFreeze;r(195)("freeze",(function(t){return function(e){return t&&n(e)?t(meta(e)):e}}))},578:function(t,e,r){var map={"./air_conditioning.svg":515,"./bathroom.svg":516,"./bathtub.svg":517,"./bed.svg":518,"./butane.svg":519,"./closet.svg":520,"./coffe_machine.svg":521,"./desk.svg":522,"./dishwasher.svg":523,"./fridge.svg":524,"./garage.svg":525,"./heater.svg":526,"./microwave.svg":527,"./tv.svg":528,"./washing_machine.svg":529,"./wifi.svg":530};function n(t){var e=l(t);return r(e)}function l(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=l,t.exports=n,n.id=578},585:function(t,e,r){"use strict";r.r(e);r(57);var n,l,o,c=r(6),v=r(350),d=r.n(v),_=r(9),m=(r(357),{data:function(){return{unAvailableTimes:[],data:{date:"",code:""},form:{date1:"",date2:"",code:""},validRangeTime:!1,rate:3,Toast:d.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}},created:(o=Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(_.b)(),t.next=3,this.loadData(!0);case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)}),methods:{reserveNow:(l=Object(c.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.validRangeTime){t.next=4;break}this.Toast.fire({icon:"error",title:"من فضلك اختر فترة زمنية غير مشغولة"}),t.next=17;break;case 4:return e=+this.data.date[0],r=+this.data.date[1],t.prev=6,t.next=9,_.a.post("unit-reservation/reservation/",{from:e,to:r,unit:this.$route.params.id});case 9:t.sent.data&&(this.Toast.fire({icon:"success",title:"تم حجز الوحدة بنحاج"}),this.$route.push("/units")),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),this.Toast.fire({icon:"error",title:"خطأ في حجز الوحدة"}),this.$route.push("/units");case 17:case"end":return t.stop()}}),t,this,[[6,13]])}))),function(){return l.apply(this,arguments)}),changeValue:function(t){for(var e=+t[0],r=+t[1],n=!0,i=0;i<this.unAvailableTimes.length;i++){var time=this.unAvailableTimes[i];if(e<time.to&&time.from<r){n=!1;break}}this.validRangeTime=n},disabledDate:function(time){var t=this.unAvailableTimes,e=!0,r=time.getTime();if(r<+new Date)return!0;for(var i=0;i<t.length;i++){var n=t[i];if(!(r<n.from||r>n.to)){e=!1;break}}return!e},loadData:(n=Object(c.a)(regeneratorRuntime.mark((function t(){var path,e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,path="unit-reservation/reservation/un-available-times/".concat(this.$route.params.id),t.next=4,_.a.get(path);case 4:e=t.sent,this.unAvailableTimes=e.data.result,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(){return n.apply(this,arguments)})}}),f=r(2),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"unit-details__form"},[r("el-form",{ref:"form",attrs:{model:t.form}},[r("el-form-item",[r("el-date-picker",{attrs:{"picker-options":{disabledDate:t.disabledDate},type:"daterange","range-separator":"","start-placeholder":"بدأ الحجز  من","end-placeholder":"الحجز الي"},on:{change:t.changeValue},model:{value:t.data.date,callback:function(e){t.$set(t.data,"date",e)},expression:"data.date"}})],1),t._v(" "),r("el-form-item",[r("el-input",{attrs:{placeholder:"كود الخصم (ان وجد)"},model:{value:t.data.code,callback:function(e){t.$set(t.data,"code",e)},expression:"data.code"}})],1),t._v(" "),r("el-form-item",[r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.reserveNow}},[t._v("احجز الان")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},690:function(t,e,r){"use strict";r.r(e);r(57);var n,l,o,c,v=r(6),d=r(350),_=r.n(d),m=r(9),f=r(353),h=r(360),C=r(349),k=r(501),x=r(585),w=(r(357),{components:{unitCard:k.a,ReservationForm:x.default},data:function(){return{unitId:this.$route.params.id,loading:!1,unAvailableTimes:[{from:15850872e5,to:15855192e5}],validRangeTime:!1,rate:3,Toast:_.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),addFavs:!1}},asyncData:(c=Object(v.a)(regeneratorRuntime.mark((function t(e){var r,n,l,path,o,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.params,n=e.redirect,l=e.app,t.prev=1,Object(m.b)(l.$cookies.get("sknToken")),path="units/unit/".concat(r.id),t.next=6,m.a.get(path);case 6:if(o=t.sent,data=o.data){t.next=10;break}return t.abrupt("return",{unit:{},error:"unable to find unit"});case 10:return t.abrupt("return",{unit:Object(h.c)(data.unit,C.a)});case 13:t.prev=13,t.t0=t.catch(1),n("/units");case 16:case"end":return t.stop()}}),t,null,[[1,13]])}))),function(t){return c.apply(this,arguments)}),methods:{getProperLanguage:f.c,getServiceText:h.a,addFav:(o=Object(v.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.updating){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.updateFavorite("post",e);case 4:t.sent.success&&(this.unit.favorite=!this.unit.favorite);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),removeFav:(l=Object(v.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.updating){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.updateFavorite("delete",e);case 4:t.sent.success&&(this.unit.favorite=!this.unit.favorite);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)}),updateFavorite:(n=Object(v.a)(regeneratorRuntime.mark((function t(e,r,n){var path,l,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.updating=!0,path="users/favorite/units/".concat(r),l="delete"===e?e:"post",t.next=6,m.a[l](path);case 6:return o=t.sent,this.updating=!1,t.abrupt("return",{success:!0,message:o.data.message});case 11:return t.prev=11,t.t0=t.catch(0),this.updating=!1,f.a&&f.a.fire({icon:"error",title:t.t0.response.data.message}),t.abrupt("return",{});case 16:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(t,e,r){return n.apply(this,arguments)})}}),y=r(2),component=Object(y.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"unit-details u-container"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{xs:24,sm:24,md:7,lg:6,xl:6}},[t.unit.available?n("div",{staticClass:"skn-alert"},[n("img",{attrs:{src:r(352),alt:"info"}}),t._v(" "),n("p",[t._v("هذا المسكن "+t._s(t.unit.available?"":"غير")+" متاح للحجز")])]):t._e(),t._v(" "),n("ReservationForm"),t._v(" "),n("div",{staticClass:"unit-details__condations"},[n("div",{staticClass:"unit-details__condations-title"},[t._v("شروط مالك الوحدة")]),t._v(" "),n("ul",{staticClass:"unit-details__condations-list"},t._l(t.unit.conditions,(function(e,r){return n("li",{key:"condition"+r},[t._v("\n            "+t._s(e)+"\n          ")])})),0)])],1),t._v(" "),n("el-col",{attrs:{xs:24,sm:24,md:17,lg:18,xl:18}},[n("div",{staticClass:"unit-details__carousel"},[n("el-carousel",{attrs:{"indicator-position":"outside"}},[n("el-carousel-item",{style:{backgroundImage:"url("+t.unit.image+")"}}),t._v(" "),t._l(t.unit.gallery,(function(image,t){return n("el-carousel-item",{key:t+"image",style:{backgroundImage:"url("+image+")"}})}))],2)],1),t._v(" "),n("div",{staticClass:"unit-details__header"},[n("div",{staticClass:"unit-details__price"},[n("span",[n("i",{staticClass:"el-icon-warning-outline"}),t._v(" ج.م/"+t._s(t.unit.dailyOrMonthly)+"\n          ")]),t._v("\n          "+t._s(t.unit.pricePerPerson)+"\n        ")]),t._v(" "),n("div",{staticClass:"unit-details__header-actions"},[n("div",{staticClass:"unit-details__share"},[n("img",{attrs:{src:r(531),alt:""}})]),t._v(" "),t.unit.displayFavorite?n("div",{staticClass:"unit-details__like",on:{click:function(e){t.unit.favorite?t.removeFav(t.unit._id):t.addFav(t.unit._id)}}},[t.unit.favorite?t._e():n("img",{attrs:{src:r(514),alt:""}}),t._v(" "),t.unit.favorite?n("img",{attrs:{src:r(494),alt:""}}):t._e()]):t._e()]),t._v(" "),n("div",{staticClass:"unit-details__header-title"},[n("span",{staticClass:"unit-details__header-city"},[t._v("\n            "+t._s(t.unit.address.government)+",\n          ")]),t._v("\n          "+t._s(t.unit.address.street)+"\n        ")])]),t._v(" "),n("div",{staticClass:"unit-details__rate"},[n("div",{staticClass:"unit-details__rate-users"},[n("span",[t._v(t._s(t.unit.totalUsersRated))]),t._v(" "),n("span",{staticClass:"word"},[t._v(" مستخدم ")])]),t._v(" "),n("div",{staticClass:"rate"},[n("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:t.unit.rate,callback:function(e){t.$set(t.unit,"rate",e)},expression:"unit.rate"}})],1)]),t._v(" "),t.unit.alert?n("div",{staticClass:"unit-details__alert"},[n("div",{staticClass:"skn-alert"},[n("img",{attrs:{src:r(352),alt:"info"}}),t._v(" "),n("p",[t._v("\n            "+t._s(t.unit.alert||"")+"\n          ")])])]):t._e(),t._v(" "),n("div",{staticClass:"unit-details__discretion"},[n("h4",{staticClass:"unit-details__title"},[t._v("وصف السكن")]),t._v(" "),n("p",[t._v("\n          "+t._s(t.unit.description)+"\n        ")])]),t._v(" "),n("div",{staticClass:"unit-details__contain"},[n("h4",{staticClass:"unit-details__title"},[t._v("محتويات السكن")]),t._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("div",{staticClass:"unit-card__feature"},[n("img",{staticClass:"unit-card__feature-img",attrs:{src:r(489),alt:""}}),t._v(" "),n("div",{staticClass:"unit-card__feature-name"},[n("span",[t._v(t._s(t.unit.availableCountNow))]),t._v(" متاح\n              ")])])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"unit-card__feature"},[n("img",{staticClass:"unit-card__feature-img",attrs:{src:r(490),alt:""}}),t._v(" "),n("div",{staticClass:"unit-card__feature-name"},[n("span",[t._v(t._s(t.unit.numberOfRooms))]),t._v("\n                "+t._s(t.getProperLanguage("rooms",t.unit.numberOfRooms))+"\n              ")])])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"unit-card__feature"},[n("img",{staticClass:"unit-card__feature-img",attrs:{src:r(534),alt:""}}),t._v(" "),n("div",{staticClass:"unit-card__feature-name"},[n("span",[t._v(t._s(t.unit.numberOfPeople))]),t._v("\n                "+t._s(t.getProperLanguage("people",t.unit.numberOfPeople))+"\n              ")])])]),t._v(" "),n("el-col",{attrs:{span:8}},[t._v("\n             \n          ")]),t._v(" "),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"unit-card__feature"},[n("img",{staticClass:"unit-card__feature-img",attrs:{src:r(582)("./"+(t.unit.rentersIcon||"boys")+".svg"),alt:""}}),t._v(" "),n("div",{staticClass:"unit-card__feature-name"},[t._v("\n                "+t._s(t.unit.rentersType)+"\n              ")])])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"unit-card__feature"},[n("img",{staticClass:"unit-card__feature-img",attrs:{src:r(542),alt:""}}),t._v(" "),n("div",{staticClass:"unit-card__feature-name"},[t._v("مفروش")])])])],1)],1),t._v(" "),n("div",{staticClass:"unit-details__features"},[n("h4",{staticClass:"unit-details__title"},[t._v("مميزات السكن")]),t._v(" "),n("el-row",{attrs:{gutter:20}},t._l(t.unit.services,(function(e,l){return n("el-col",{key:"services"+l,staticClass:"u-col-rtl",attrs:{span:3,xs:6,sm:6,md:3,lg:3,xl:3}},[n("div",{staticClass:"unit-details__feature"},[n("img",{attrs:{src:r(578)("./"+e+".svg"),alt:e}}),t._v(" "),n("h6",[t._v(t._s(t.getServiceText(e)))])])])})),1)],1)])],1),t._v(" "),t.unit.similarUnits&&t.unit.similarUnits.length?n("div",{staticClass:"unit-details__similar"},[n("h4",{staticClass:"unit-details__title"},[t._v("سكن مشابه")]),t._v(" "),n("el-row",{attrs:{gutter:30}},t._l(t.unit.similarUnits,(function(t,e){return n("el-col",{key:"similar"+e,staticClass:"u-col-rtl",attrs:{xs:24,sm:24,md:8,lg:6,xl:6}},[n("unitCard",{attrs:{unit:t,backgroundurl:t.image,"go-to":"/unitDetails/"+t._id,state:"availableRent"}})],1)})),1)],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports}}]);