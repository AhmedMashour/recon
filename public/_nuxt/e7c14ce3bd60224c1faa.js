(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{338:function(e,t){e.exports=[{value:"Alexandria",label:"الإسكندرية"},{value:"Ismailia",label:"الإسماعيلية"},{value:"Aswan",label:"أسوان"},{value:"Asyut",label:"أسيوط"},{value:"Luxor",label:"الأقصر"},{value:"Red Sea",label:"البحر الأحمر"},{value:"El Beheira",label:"البحيرة"},{value:"Beni Suef",label:"بني سويف"},{value:"Port Said",label:"بورسعيد"},{value:"South Sinai",label:"جنوب سيناء"},{value:"Giza",label:"الجيزة"},{value:"Dakahlia",label:"الدقهلية"},{value:"Damietta",label:"دمياط"},{value:"Sohag",label:"سوهاج"},{value:"Suez",label:"السويس"},{value:"Ash Sharqia",label:"الشرقية"},{value:"North Sinai",label:"شمال سيناء"},{value:"Gharbia",label:"الغربية"},{value:"Faiyum",label:"الفيوم"},{value:"Cairo",label:"القاهرة"},{value:"Al Qalyubia",label:"القليوبية"},{value:"Qena",label:"قنا"},{value:"Kafr El Sheikh",label:"كفر الشيخ"},{value:"Marsa Matruh",label:"مرسى مطروح"},{value:"Menofia",label:"المنوفية"},{value:"Minya",label:"المنيا"},{value:"New Valley",label:"الوادي الجديد"}]},512:function(e,t,l){var content=l(564);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(43).default)("38fe87d7",content,!0,{sourceMap:!1})},563:function(e,t,l){"use strict";var r=l(512);l.n(r).a},564:function(e,t,l){(t=l(42)(!1)).push([e.i,".avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#29bbc1}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar{width:178px;height:178px;display:block}",""]),e.exports=t},590:function(e,t,l){"use strict";l.r(t);l(190),l(195);var r=l(373),o=l.n(r),n=(l(374),l(1)),d=l(120),c=l(336),m=l.n(c),f=l(30),v=(l(337),l(338)),h=l.n(v);n.default.use(d.a);var y={layout:"loginLayout",components:{VuePhoneNumberInput:o.a},data:function(){var e=this;return{Toast:m.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),formattedNumber:"",formRegestration:{dialogImageUrl:"",Genderoptions:[{value:"male",label:"ذكر"},{value:"female",label:"انثى"}],Jobsoptions:[{value:"renter",label:"مستأجر"},{value:"employee",label:"موظف"},{value:"student",label:"طالب"}],Governorateoptions:[{value:"minya",label:"المنيا"},{value:"cairo",label:"القاهره"}],Governoratevalue:""},formatNational:"",verificationCode:"",rules:{email:[{required:!0,message:"يجب إدخال البريد الإلكتروني",trigger:"blur"},{type:"email",message:"يجب إدخال البريد الإلكتروني صالح",trigger:["blur","change"]}],fullName:[{required:!0,message:"يجب إدخال الاسم بالكامل",trigger:"blur"},{min:2,max:50,message:"يجب أن يكون اسمك بين 2 و 50 أحرف",trigger:"blur"}],phone:[{required:!0,message:"يجب إدخال رقم الهاتف",trigger:"blur"},{min:10,max:11,message:"يجب إدخال رقم هاتف صالح",trigger:"blur"},{validator:function(e,t,l){""===t||11!==t.length||String(t).startsWith("01")?""!==t&&10===t.length&&String(t).startsWith("01")?l(new Error("يجب إدخال رقم هاتف صالح")):""===t||10!==t.length||String(t).startsWith("1")?l():l(new Error("يجب إدخال رقم هاتف صالح")):l(new Error("يجب إدخال رقم هاتف صالح"))},trigger:"blur"}],birthDateTs:[{type:"date",required:!0,message:"يجب إدخال تاريخ ميلادك",trigger:"change"}],gender:[{required:!0,message:"يجب اختيار النوع",trigger:"change"}],jobType:[{required:!0,message:"يجب اختيار نوع الوظيفه",trigger:"change"}],jobDescription:[{validator:function(t,l,r){"employee"===e.data.jobType&&""===l?r(new Error("يجب إدخال اسم الشركة")):"student"===e.data.jobType&&""===l&&r(new Error("يجب إدخال اسم الكلية")),""!==l&&(l.length<5||l.length>500)?r(new Error("يجب أن يكون وصف الوظيفة بين 5 و 500 أحرف")):r()},trigger:"blur"}],password:[{required:!0,message:"يجب إدخال كلمة السر",trigger:"blur"},{min:5,max:60,message:"يجب أن تكون كلمة السر بين 5 و 60 أحرف",trigger:"blur"}],repeatPassword:[{validator:function(t,l,r){""===l?r(new Error("يجب إدخال كلمة السر مرة اخرى")):l!==e.data.password?r(new Error("كلمة السر وكلمة السر للتأكيد غير متطابقتين")):r()},trigger:"blur"}],government:[{required:!0,message:"يجب إدخال المحافظة",trigger:"change"}]},data:{phoneNumber:"",fullName:"",phone:"",email:"",birthDateTs:"",gender:"",job:{type:"",description:""},jobType:"",jobDescription:"",password:"",repeatPassword:"",government:"",code:"",facebookId:"",googleId:""},translations:{phoneNumberLabel:"رقم الموبايل"},dialogVisible:!1,disabled:!1,checked:!1}},created:function(){var e=this;h.a&&0!==h.a.length&&(this.formRegestration.Governorateoptions=h.a);var t=this.$route.query.faceId||null,l=this.$route.query.googleId||null,r=this.$route.query.token||null;r&&(localStorage.setItem("sknToken",r),window.location.href="/"),t&&f.a.get("users/facebook-user-data/".concat(t)).then((function(t){var data=t.data;data&&(e.data.facebookId=data.facebookId,e.data.fullName=data.fullName,e.data.image=data.image)})),l&&f.a.get("users/google-user-data/".concat(l)).then((function(t){var data=t.data;data&&(e.data.googleId=data.googleId,e.data.fullName=data.fullName,e.data.image=Array.isArray(data.photos)&&data.photos[0]?data.photos[0].value:"",e.data.email=Array.isArray(data.emails)&&data.emails[0]?data.emails[0].value:"")})),localStorage.getItem("sknToken")&&(location.href="/")},methods:{handleRemove:function(e,t){this.$refs.upload.clearFiles()},handlePictureCardPreview:function(e){this.formRegestration.dialogImageUrl=e.url,this.dialogVisible=!0},clearUploadedImage:function(){this.$refs.upload.clearFiles()},updatePhone:function(e){e.formatNational&&(this.data.phone=e.formatNational.split(" ").join("")),this.formattedNumber=e.formattedNumber||""},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var l=t.formattedNumber;if(l&&13===l.length&&String(l).startsWith("+201")){if(new Date(t.data.birthDateTs).getTime()>=(new Date).getTime())return void t.Toast.fire({icon:"error",title:"يجب إدخال تاريخ ميلاد صالح"});if(!t.checked)return void t.Toast.fire({icon:"error",title:"يجب الموافقة على جميع الشروط و سياسات الموقع!!"});t.data.image||(t.data.image="https://skndevbucket.s3.me-south-1.amazonaws.com/42a6269d-5bb7-4274-af1a-482859473979-girl-avatar.jpg","male"===t.data.gender&&(t.data.image="https://skndevbucket.s3.me-south-1.amazonaws.com/a2e004fe-10f9-49b2-97d0-7af35f00034b-boy-avatar.jpg")),t.data.birthDateTs=new Date(t.data.birthDateTs).getTime(),t.data.job.type=t.data.jobType,t.data.job.description=t.data.jobDescription;var data={phone:l};f.a.post("users/phone/verify",data).then((function(e){t.verificationCode=e.data.code,localStorage.setItem("userRegisteredData",JSON.stringify(t.data)),window.location.href="/registrationCode"})).catch((function(e){var l="حدث خطأ ما";return e.response&&e.response.data&&(l=e.response.data.message),t.Toast.fire({icon:"error",title:l}),e}))}else t.Toast.fire({icon:"error",title:"يجب إدخال رقم هاتف صالح"})}))},policeDialog:function(){this.$store.commit("policeDialog",!0)}}},w=(l(563),l(3)),component=Object(w.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"signup-container"},[r("el-row",{staticClass:"row-bg"},[r("el-col",{staticClass:"hidden-xs-only",attrs:{xs:24,sm:10,md:10,lg:10,xl:10}},[r("div",{staticClass:"imageContainer"})]),e._v(" "),r("el-col",{attrs:{xs:24,sm:14,md:14,lg:14,xl:14}},[r("div",{staticClass:"pageContainer"},[r("div",{staticClass:"headerWrapper"},[r("div",{staticClass:"signup-form_logo"},[r("img",{attrs:{src:l(124),alt:"SKN Logo"}})]),e._v(" "),r("div",{staticClass:"signup-form_header"},[r("h3",[e._v("انشاء حساب جديد")])]),e._v(" "),r("div",{staticClass:"signup-form_small-header"},[r("h3",[e._v("أنشىء حسابك الآن وانشر سكنك فى كل أنحاء العالم")])]),e._v(" "),r("div",{staticClass:"signup-form_uploadImg"},[r("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("img",{attrs:{src:e.formRegestration.dialogImageUrl,width:"50%",alt:""}})])],1),e._v(" "),r("el-row",{attrs:{gutter:20,type:"flex",justify:"space-around"}},[r("el-form",{ref:"data",staticClass:"signup-field",attrs:{model:e.data,rules:e.rules}},[r("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[r("div",{staticClass:"grid-content"},[r("el-row",{attrs:{gutter:20,type:"flex",justify:"space-around"}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{staticClass:"PhoneNumberInput",attrs:{prop:"phone"}},[r("VuePhoneNumberInput",{staticClass:"PhoneNumberInput",attrs:{translations:e.translations,"default-country-code":"EG","valid-color":"#DCDFE6",color:"#DCDFE6","error-color":"#DCDFE6"},on:{update:e.updatePhone},model:{value:e.data.phoneNumber,callback:function(t){e.$set(e.data,"phoneNumber",t)},expression:"data.phoneNumber"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20,type:"flex",justify:"space-around"}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"gender"}},[r("el-select",{attrs:{placeholder:"النوع"},model:{value:e.data.gender,callback:function(t){e.$set(e.data,"gender",t)},expression:"data.gender"}},e._l(e.formRegestration.Genderoptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{prop:"birthDateTs"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"تاريخ الميلاد"},model:{value:e.data.birthDateTs,callback:function(t){e.$set(e.data,"birthDateTs",t)},expression:"data.birthDateTs"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20,type:"flex",justify:"flex-end"}},[r("el-col",{attrs:{span:15}},["employee"===e.data.jobType?r("el-form-item",{attrs:{prop:"jobDescription"}},[r("el-input",{attrs:{placeholder:"اسم الشركة"},model:{value:e.data.jobDescription,callback:function(t){e.$set(e.data,"jobDescription",t)},expression:"data.jobDescription"}})],1):e._e(),e._v(" "),"student"===e.data.jobType?r("el-form-item",{attrs:{prop:"jobDescription"}},[r("el-input",{attrs:{placeholder:"اسم الكلية"},model:{value:e.data.jobDescription,callback:function(t){e.$set(e.data,"jobDescription",t)},expression:"data.jobDescription"}})],1):e._e()],1),e._v(" "),r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{prop:"jobType"}},[r("el-select",{attrs:{placeholder:"الوظيفة"},model:{value:e.data.jobType,callback:function(t){e.$set(e.data,"jobType",t)},expression:"data.jobType"}},e._l(e.formRegestration.Jobsoptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20,type:"flex",justify:"flex-end"}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{prop:"government"}},[r("el-select",{staticStyle:{display:"block"},attrs:{placeholder:"المحافظة"},model:{value:e.data.government,callback:function(t){e.$set(e.data,"government",t)},expression:"data.government"}},e._l(e.formRegestration.Governorateoptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)],1)]),e._v(" "),r("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[r("div",{staticClass:"grid-content"},[r("el-form-item",{attrs:{prop:"fullName"}},[r("el-input",{attrs:{placeholder:"الاسم بالكامل"},model:{value:e.data.fullName,callback:function(t){e.$set(e.data,"fullName",t)},expression:"data.fullName"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"email"}},[r("el-input",{attrs:{type:"email",placeholder:"الايميل"},model:{value:e.data.email,callback:function(t){e.$set(e.data,"email",t)},expression:"data.email"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"كلمة السر","show-password":""},model:{value:e.data.password,callback:function(t){e.$set(e.data,"password",t)},expression:"data.password"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"repeatPassword"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"تأكيد كلمة السر","show-password":""},model:{value:e.data.repeatPassword,callback:function(t){e.$set(e.data,"repeatPassword",t)},expression:"data.repeatPassword"}})],1)],1)]),e._v(" "),r("el-row",{attrs:{gutter:20,type:"flex",justify:"flex-end"}},[r("el-col",{attrs:{span:24}},[r("div",{staticStyle:{display:"flex"}},[r("div",{staticStyle:{"margin-left":"auto"}},[r("span",[e._v("\n                        أوافق على جميع\n                        "),r("span",{staticClass:"signup-field_checkbox-text",on:{click:e.policeDialog}},[e._v("الشروط و سياسات")]),e._v("\n                        الموقع")])]),e._v(" "),r("div",[r("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1)])])],1),e._v(" "),r("el-form-item",{staticClass:"login-buttons"},[r("nuxt-link",{attrs:{to:"/login"}},[r("span",{staticClass:"login-buttons_forget"},[e._v("تسجيل دخول")])]),e._v(" "),r("nuxt-link",{attrs:{to:""}},[r("el-button",{staticClass:"login-buttons_login",on:{click:function(t){return e.submitForm("data")}}},[e._v("انشاء الحساب")])],1)],1)],1)],1)],1)])])],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);